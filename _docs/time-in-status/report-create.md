---
title: Create report
key: time-in-status
---

Права на создание отчетов управляются администратором системы. [Подробнее](/docs/time-in-status/reports-permissions/) 

Если у пользователя есть права на создание новых отчетов, то в меню с отчетами у него будет доступна соответствующая кнопка в правой части экрана - "Create report".

<p style="text-align: center;"><a href="/uploads/time-in-status/reports-all/2.png"><img src="/uploads/time-in-status/reports-all/2.png" style="width:100%;"/></a></p>

При нажатии пользователю откроется интерфейс дл создания отчетов.

## Common ##
<div class="uk-alert-note" data-uk-alert="">
В плагине пока доступны только табличные отчеты. Функционал отчетов будет улучшаться и расширяться в новых версиях.<br>
Отчеты могут работать с любыми полям. Как с системными так и с полями из сторонних приложений. Корректность работы в отчете зависит от конкретного типа поля. В случае вопросов или проблем пожалуйста обращайтесь в <a href="https://jibrok.atlassian.net/servicedesk/customer/portals">поддержку</a>.
</div>

* Отчеты умеют группировать данные по одному признаку. Это может быть любое поле или набор jql условий для включения запроса в группу.
* Отчеты умеют отображать любые поля. В зависимости от типа данных в поле будут доступны дополнительные функции для вычисления значений.
    * Для полей из этого приложения("Time in status", "Timer", "Stopwatch") доступны различные функции - медианное время и перцинтили, среднее время в паузе, количество рестартов и т.д.
    * Для числовых полей доступы математические функции - расчет перцинтилей, суммы, средних, максимальных и других значений.
* Так же можно выводить ячейки с настраивамыми формулой и отображением, такие ячейки также имеют доступ к данным из других ячеек(аля excel).
* Для каждого отчета отдельно задаются права доступа и расписание для обновления данных.


<p style="text-align: center;"><a href="/uploads/time-in-status/reports-all/4.png"><img src="/uploads/time-in-status/reports-all/4.png" style="width:100%;"/></a></p>

## Детальнее ##

* Name - указывается для поиска отчета и навигации между ними.
* Type - Тип отчета, от него зависят прочие настройки отчета.
    * Table - табличный отчет позволяющий указывать любые поля, формулы и группировку в отчете.
      <p style="text-align: center;"><a href="/uploads/time-in-status/report-create/1.png"><img src="/uploads/time-in-status/report-create/1.png" style="width:50%;"/></a></p>
    * Time in status - отчет показывающий время проведенное задачами в статусе с разбивкой по исполнителям.
      <p style="text-align: center;"><a href="/uploads/time-in-status/report-create/2.png"><img src="/uploads/time-in-status/report-create/2.png" style="width:50%;"/></a></p>
    * Time in status by assignee - показывает время проведенное задачами на различных исполнителях с разбивкой по статусам.
      <p style="text-align: center;"><a href="/uploads/time-in-status/report-create/3.png"><img src="/uploads/time-in-status/report-create/3.png" style="width:50%;"/></a></p>
* JQL - задачи для которых нужно построить отчет.
* Schedule expression - отчеты генерируются и сохраняют свои данные до следующей генерации. Вы можете обновлять(генерировать) отчеты вручную или указать расписание для автоматического обновления данных.
    * укажите число N в минутах - каждые N минут отчет будет обновляться.
    * Укажите cron выражение. Простой сервис для генерации cron выражений http://www.cronmaker.com/
* Permissions - доступ к отчету могут иметь все пользователи или только указанные(отдельные пользователи или группы)*
    * view - пользователям разрешается только просматривать отчет
    * edit - пользователям разрешается просматривать отчет и редактировать. 
#### Table ####
**Group** - по данному условию будут группироваться задачи из JQL. Вы можете выбрать системное поле или любое другое. Также возможно группировка по JQL условиям.
* System field:
  * Версии и компоненты группируются для каждого значения по отдельности. Если у issue указанно две версии она попадет в группы для обоих версий.
* JQLs - issues are counted only in the first matching jql. Задача попадет только в 1 группу. 
* JQLs - issues are counted in all jqls. Задача попадет во все подходящие группы.
  * Вы можете менять порядок JQL условий перетаскиванием.
  <p style="text-align: center;"><a href="/uploads/time-in-status/report-create/4.png"><img src="/uploads/time-in-status/report-create/4.png" style="width:50%;"/></a></p>


  
**Columns**
  <p style="text-align: center;"><a href="/uploads/time-in-status/report-create/5.png"><img src="/uploads/time-in-status/report-create/5.png" style="width:50%;"/></a></p>
* Column title - заголовок будет отображен в таблице.
* Field - какие данные показать в колонке. В зависимости от выбранного поля будет предложен список дополнительных функций для расчета значения.
  * Значение рассчитывается для всей группы. 
    * Если группировка по issue key. То в колонке будет отображено значение выбранного поля. 
    * Если группировка по project. То в колонке будет отображено значение рассчитанное для всех задача из JQL попадающих в project. 
* Function - функция вычисляющая значение поля для группы. Зависит от выбранного поля.
* Velocity - Редактор позволяющий настроить отображение значение в ячейке (HTML). <a href="https://velocity.apache.org/engine/1.7/user-guide.html">velocity</a>
* Вы можете менять порядок колонок перетаскиванием.

* **Custom calculated field (html)** 
  <p style="text-align: center;"><a href="/uploads/time-in-status/report-create/6.png"><img src="/uploads/time-in-status/report-create/6.png" style="width:50%;"/></a></p>

Особый тип поля. Используя <a href="https://velocity.apache.org/engine/1.7/user-guide.html">velocity</a> можно не только настроить отображение значения (HTML) но и произвести дополнительные расчеты. Это поле позволяет обратиться к любым ячейкам отчета и произвести вычисления на их основе(аля excel).
<p style="text-align: center;"><a href="/uploads/time-in-status/report-create/7.png"><img src="/uploads/time-in-status/report-create/7.png" style="width:50%;"/></a></p>

        $report[0][1] + $report[0][2] 


## Save ##

* **Demo** - В процессе настройки отчета вы можете нажать **Demo** для просмотра промежуточного результата отчета. Будет сгенерирован и показан отчет на основе первых 50 задач из JQL.

* **Save и generate** - отчеты генерируются по расписанию. Если вы хотите запустить генерацию сразу поле сохранения отчета нажмите эту кнопку. После сохранения отчет будет отправлен в очередь не генерацию. Дальнейшее обновление отчета будет происходить по расписанию.

* **Save** - сохраняет отчет. Отчет будет доступен на просмотр после генерации которая произойдет по расписанию.